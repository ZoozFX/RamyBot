<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Registration Form</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.min.css"/>
<style>
  body { font-family: sans-serif; padding:20px; background:#f9f9f9; }
  .box { max-width:400px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
  input, button { width:100%; padding:12px; margin:8px 0; border-radius:6px; border:1px solid #ccc; }
  button { background:#0088cc; color:#fff; font-size:16px; }
</style>
</head>
<body>
<div class="box">
  <h2>üìù Forex Registration (English)</h2>
  <input id="name" placeholder="Full Name" required>
  <input id="email" type="email" placeholder="Email Address" required>
  <input id="phone" type="tel" placeholder="Phone Number" required>
  <input id="broker" placeholder="Broker" required>
  <button onclick="submitForm()">üì© Register</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
<script>
  const iti = intlTelInput(document.querySelector("#phone"), { initialCountry: "us",
    utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js" });

  async function submitForm(){
    const data = {
      name: document.getElementById("name").value,
      email: document.getElementById("email").value,
      phone: iti.getNumber(),
      broker: document.getElementById("broker").value
    };

    const res = await fetch("/register", {
      method: "POST",
      headers: { "Content-Type":"application/json" },
      body: JSON.stringify(data)
    });

    if(res.ok) alert("‚úÖ Registered successfully!");
    else alert("‚ùå Registration failed!");
  }
</script>
</body>
</html>
